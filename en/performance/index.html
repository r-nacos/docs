<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>Performance and Capacity Overview | Hi，终于等到你</title>
    <meta name="description" content="r-nacos doc">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/docs/assets/style.PUefS_Ch.css" as="style">
    <link rel="preload stylesheet" href="/docs/vp-icons.css" as="style">
    <script type="module" src="/docs/assets/chunks/metadata.a9848cff.js"></script>
    <script type="module" src="/docs/assets/app.DvlVev8c.js"></script>
    <link rel="preload" href="/docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/docs/assets/chunks/theme.6nUH6S83.js">
    <link rel="modulepreload" href="/docs/assets/chunks/framework.l2xuOoKE.js">
    <link rel="modulepreload" href="/docs/assets/en_performance_index.md.rk-xswuG.lean.js">
    <link rel="shortcut icon" href="/docs/logo.svg">
    <link rel="icon" href="/docs/logo.svg" type="image/svg+xml">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,shrink-to-fit=no">
    <meta name="keywords" content="r-nacos,nacos,rnacos">
    <script async src="https://hm.baidu.com/hm.js?afa135946ba7fb33d69bea1f370b905c"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><canvas style="position:fixed;left:0;top:0;pointer-events:none;z-index:999999;"></canvas><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/docs/en/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/docs/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>R-Nacos</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--[--><!--[--><div class="VPNavBarSearch search"><div id="docsearch"></div></div><!--]--><!--]--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/en/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/en/faq/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Q&A</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/en/change/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Update Log</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://www.bestreven.top/rnacos/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Console Presentation</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-6aa21345 data-v-88af2de4 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><span class="vpi-languages option-icon" data-v-cf11d7a2></span><!----><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>English</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-35975db6><a class="VPLink link" href="/docs/performance/" data-v-35975db6><!--[--><span data-v-35975db6>简体中文</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/r-nacos/r-nacos" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="group translations" data-v-bb2aa2f0><p class="trans-title" data-v-bb2aa2f0>English</p><!--[--><div class="VPMenuLink" data-v-bb2aa2f0 data-v-35975db6><a class="VPLink link" href="/docs/performance/" data-v-35975db6><!--[--><span data-v-35975db6>简体中文</span><!--]--></a></div><!--]--></div><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/r-nacos/r-nacos" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="VPFlyout VPNolebaseEnhancedReadabilitiesMenu VPNolebaseEnhancedReadabilitiesMenuFlyout" aria-label="Enhanced Readability" role="menuitem" data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><span class="i-icon-park-outline:book-open option-icon" data-v-cf11d7a2></span><!----><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--]--></div></div></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/intro/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Intro</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/quick_started/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/cluster_deploy/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Cluster Deployment</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/env_config/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Deployment Parameter Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/performance/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Performance and Capacity Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/health/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Service Health Check and Liveness Detection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/backup/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Data Backup and Migration Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/version_describe/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Version Description</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/architecture/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/faq/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Faq</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Deployment example</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/deploy_example/linux_deploy/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Linux deploy</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/deploy_example/linux_systemd_deploy/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Deploying r-nacos with systemd</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/deploy_example/docker_cluster_deploy/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Cluster deployment</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/en/deploy_example/nacos_to_rnacos_doc/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>How to move smoothly from nacos to r-nacos?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--[--><!--[--><!--[--><!--]--><!--]--><!--]--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><div class="share-link-container" data-v-e4fc83fb><button class="share-link-button" aria-label="分享此页面" aria-live="polite" data-v-e4fc83fb><h1 class="buttonText" data-v-e4fc83fb><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify" alt="Icon" style="vertical-align:-0.125em;" width="1em" height="1em" viewBox="0 0 16 16" data-v-e4fc83fb></svg> 分享此页面</h1></button></div><!--]--><!--]--><!--]--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--[--><!--[--><div class="word"><p><span>🔥更新：2025-01-28</span><span>📝字数: 0 字</span><span>⏰时长: 0 分钟</span></p></div><!--]--><!--]--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _docs_en_performance_" data-v-39a288b8><div><h1 id="performance-and-capacity-overview" tabindex="-1">Performance and Capacity Overview <a class="header-anchor" href="#performance-and-capacity-overview" aria-label="Permalink to &quot;Performance and Capacity Overview&quot;">​</a></h1><h2 id="stress-testing-tools" tabindex="-1">Stress Testing Tools <a class="header-anchor" href="#stress-testing-tools" aria-label="Permalink to &quot;Stress Testing Tools&quot;">​</a></h2><p>We primarily use the goose tool for stress testing.</p><p>Refer to the sub-project <a class="VPNolebaseInlinePreviewLink" relative href="https://github.com/heqingpan/rnacos/tree/master/loadtest" target="_blank" rel="noreferrer" data-v-6e96b10d><!--[-->loadtest<!--]--><!----></a> in the project for more details.</p><h2 id="performance-stress-testing-results" tabindex="-1">Performance Stress Testing Results <a class="header-anchor" href="#performance-stress-testing-results" aria-label="Permalink to &quot;Performance Stress Testing Results&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Module</th><th>Scenario</th><th>Single Node qps/tps</th><th>Cluster qps/tps</th><th>Summary/Remarks</th></tr></thead><tbody><tr><td>Configuration Center</td><td>Configuration Write, HTTP Protocol</td><td>17.6k</td><td>7.6k</td><td>Cluster write stress testing was performed on a single machine running 3 nodes. Deploying on multiple machines could further improve tps.</td></tr><tr><td>Configuration Center</td><td>Configuration Query, HTTP Protocol</td><td>80k</td><td>n*80k</td><td>The total query qps of the cluster is a multiple of the node.</td></tr><tr><td>Registry</td><td>Service Instance Registration, HTTP Protocol</td><td>48k</td><td>24k</td><td>Cluster write stress testing was performed on a single machine running 3 nodes. Deploying on multiple machines could further improve tps.</td></tr><tr><td>Registry</td><td>Service Instance Registration, gRPC Protocol</td><td>48k</td><td>24k</td><td>The stress testing tool does not support gRPC protocol, so no actual stress testing has been conducted. Theoretically, it should not be lower than the HTTP protocol.</td></tr><tr><td>Registry</td><td>Service Instance Heartbeat, HTTP Protocol</td><td>48k</td><td>24k</td><td>Heartbeat is calculated per instance and shares qps with service instance registration.</td></tr><tr><td>Registry</td><td>Service Instance Heartbeat, gRPC Protocol</td><td>80k+</td><td>n*80k</td><td>Heartbeat is calculated per request link and does not go through the registry processing thread. Each node only manages the heartbeat of the current node. The total heartbeat qps of the cluster is a multiple of the node.</td></tr><tr><td>Registry</td><td>Query Service Instance</td><td>54k</td><td>n*54k</td><td>The total query qps of the cluster is a multiple of the node.</td></tr></tbody></table><p><strong>Note:</strong> Specific results depend on the stress testing environment.</p><h3 id="stress-testing-records" tabindex="-1">Stress Testing Records <a class="header-anchor" href="#stress-testing-records" aria-label="Permalink to &quot;Stress Testing Records&quot;">​</a></h3><p>Registry Query:</p><p><img src="https://github.com/heqingpan/rnacos/raw/master/doc/assets/imgs/20230903202816.png" alt="" loading="lazy"></p><p>Configuration Center Query, two processes each limited to 40k qps for simultaneous stress testing (total 80k qps), one of the stress testing records:</p><p><img src="https://github.com/heqingpan/rnacos/raw/master/doc/assets/imgs/20230903205737.png" alt="" loading="lazy"></p><h2 id="capacity-analysis" tabindex="-1">Capacity Analysis <a class="header-anchor" href="#capacity-analysis" aria-label="Permalink to &quot;Capacity Analysis&quot;">​</a></h2><h3 id="configuration-center" tabindex="-1">Configuration Center <a class="header-anchor" href="#configuration-center" aria-label="Permalink to &quot;Configuration Center&quot;">​</a></h3><ol><li>The single-node query capacity of the configuration center is 80k qps, which is very high and supports horizontal scaling; the cluster has no query bottleneck.</li><li>The memory usage of the configuration center depends on the configuration memory. As long as the memory is not full, there is no bottleneck.</li><li>The cluster write operation of the configuration center is centralized on the master node, which may create a write bottleneck; currently, it is 1.5k tps, but it should reach over 10k tps after optimization.</li></ol><h3 id="registry" tabindex="-1">Registry <a class="header-anchor" href="#registry" aria-label="Permalink to &quot;Registry&quot;">​</a></h3><ol><li>The single-node query capacity of the registry is 30k qps, which is relatively high and supports horizontal scaling; the cluster has no query bottleneck.</li><li>The memory usage of the registry depends on the configuration memory. As long as the memory is not full, there is no bottleneck.</li><li>The cluster write operation of the registry requires each node to write once, so the overall cluster write performance tps is theoretically equivalent to that of a single node.</li><li>The heartbeat maintenance mechanisms of the HTTP protocol (v1.x version) and gRPC protocol (v2.x) are different; HTTP heartbeat is calculated per instance and shares qps with service instance registration, while gRPC heartbeat is calculated per request link and does not go through the registry processing thread. Therefore, the theoretical capacity supported by these protocols varies significantly.</li></ol><h4 id="registry-cluster-registration-capacity-inference" tabindex="-1">Registry Cluster Registration Capacity Inference <a class="header-anchor" href="#registry-cluster-registration-capacity-inference" aria-label="Permalink to &quot;Registry Cluster Registration Capacity Inference&quot;">​</a></h4><ol><li>The HTTP protocol registration + heartbeat qps is 10k, with each instance having a heartbeat every 5 seconds; theoretically, it can only support about 50k service instances.</li><li>For the gRPC protocol, assuming the registration qps is also 10k, the heartbeat qps per instance is 80k, and the total heartbeat qps for a 3-node cluster is 240k; if an application instance reconnects once per hour on average, the total number of service instances supported for registration is: 60<em>60</em>10000 = 36 million, and the total number of link instances supported by heartbeat is: 5*240k = 1.2 million link instances (related to the cluster nodes).</li></ol><p>Conclusion: If using v1.0x HTTP protocol, the supported instances are around 50k. If using v2.0x gRPC protocol, theoretically, there is no bottleneck.</p><h2 id="performance-comparison-between-r-nacos-and-java-nacos-single-machine-mode" tabindex="-1">Performance Comparison between r-nacos and Java Nacos (Single Machine Mode) <a class="header-anchor" href="#performance-comparison-between-r-nacos-and-java-nacos-single-machine-mode" aria-label="Permalink to &quot;Performance Comparison between r-nacos and Java Nacos (Single Machine Mode)&quot;">​</a></h2><p>Historical single-machine performance test records, comparing r-nacos with the Java version of Nacos.</p><h3 id="test-environment-and-tools" tabindex="-1">Test Environment and Tools <a class="header-anchor" href="#test-environment-and-tools" aria-label="Permalink to &quot;Test Environment and Tools&quot;">​</a></h3><p>Test environment: macOS i7 quad-core / 16GB RAM. The same machine is used for both applying and receiving pressure (which may lower the test results). Test tools: * wrk, achieving around 24,450 qps * goose, achieving around 17,000 qps (single process with rate limiting, lower than wrk) * Single process pressure application, wrk output is higher than goose</p><p>r-nacos server version: v0.1.1 Java nacos server version: 2.1.0</p><p><strong>Since wrk and goose do not currently support the gRPC protocol, only HTTP protocol interfaces were tested.</strong></p><h3 id="configuration-center-1" tabindex="-1">Configuration Center <a class="header-anchor" href="#configuration-center-1" aria-label="Permalink to &quot;Configuration Center&quot;">​</a></h3><p>The configuration center is not frequently updated, so write operations were not tested.</p><h4 id="rust-r-nacos-server" tabindex="-1">Rust r-nacos server: <a class="header-anchor" href="#rust-r-nacos-server" aria-label="Permalink to &quot;Rust r-nacos server:&quot;">​</a></h4><ol><li>Configuration center single-machine query with wrk achieved around 24,000 qps.</li></ol><h4 id="java-nacos-server" tabindex="-1">Java nacos server: <a class="header-anchor" href="#java-nacos-server" aria-label="Permalink to &quot;Java nacos server:&quot;">​</a></h4><ol><li>Configuration center single-machine query with wrk achieved around 7,700 qps.</li></ol><h3 id="registration-center" tabindex="-1">Registration Center <a class="header-anchor" href="#registration-center" aria-label="Permalink to &quot;Registration Center&quot;">​</a></h3><h4 id="rust-r-nacos-server-1" tabindex="-1">Rust r-nacos server: <a class="header-anchor" href="#rust-r-nacos-server-1" aria-label="Permalink to &quot;Rust r-nacos server:&quot;">​</a></h4><ol start="2"><li>Naming registration of 1000 x 1 instance, 200 qps per second, single-core CPU usage: around 4.5%</li><li>Naming single query achieved around 15,000 QPS <ol><li>wrk query for a single service, 16,500 qps</li><li>goose query for 1000 services, 15,000 qps</li></ol></li><li>Naming single service registration <ol><li>goose, 50,000 to 70,000 instances, around 7,000 qps.</li></ol></li><li>Mixed query and registration <ol><li>wrk query for a single service (15,000 qps) + goose registration (750 qps) [5,000 instances]</li><li>goose query for 1000 services (13,000 qps) + goose registration (700 qps) [5,000 instances]</li><li>wrk query for a single service (15,000 qps) + goose registration (1,500 qps) [10,000 instances]</li><li>goose query for 1000 services (13,000 qps) + goose registration (1,300 qps) [10,000 instances]</li></ol></li></ol><h4 id="java-nacos-server-1" tabindex="-1">Java nacos server: <a class="header-anchor" href="#java-nacos-server-1" aria-label="Permalink to &quot;Java nacos server:&quot;">​</a></h4><ol><li>Configuration center query with wrk achieved around 7,700 qps</li><li>Naming registration of 1000 x 1 instance, 200 qps per second, single-core CPU usage: around 17%</li><li>Naming single query <ol><li>wrk query for a single service, 13,500 qps.</li><li>goose query for 1000 services, 10,000 qps (should be able to go higher initially). Can stabilize around 10,000 in the first 30 seconds, then drops to around 200 after 30 seconds and fluctuates, possibly due to GC.</li></ol></li><li>Naming single registration <ol><li>goose, 50,000 to 70,000 instances, around 4,500 qps.</li></ol></li><li>Mixed query and registration <ol><li>wrk query for a single service (13,000 qps) + goose registration (700 qps) [5,000 instances]</li><li>goose query for 1000 services (10,000 qps) + goose registration (700 qps) [5,000 instances]; can maintain initially, but qps fluctuates significantly later, dropping below 50 at the lowest.</li><li>wrk query for a single service (9,000 qps) + goose registration (1,200 qps) [10,000 instances]</li><li>goose query for 1000 services (6,000 qps) + goose registration (800 qps) [10,000 instances]</li></ol></li></ol><h3 id="performance-test-summary" tabindex="-1">Performance Test Summary <a class="header-anchor" href="#performance-test-summary" aria-label="Permalink to &quot;Performance Test Summary&quot;">​</a></h3><ol><li><p>r-nacos, except for service registration which cannot stabilize above 10,000, other interfaces can stabilize above 10,000 qps.</p></li><li><p>Java&#39;s query interface can generally reach above 10,000, but it is not stable, with significant fluctuations later. Reducing the test flow can make qps relatively stable.</p></li><li><p>In scenarios with multiple service queries and multiple service registrations, r-nacos qps can stabilize around 13,000, while Java Nacos qps drops significantly to around 6,000.</p></li><li><p>r-nacos overall qps is more than double that of the Java version. Due to Java&#39;s GC, the stability of qps levels is worse in Java (with the same pressure flow, qps can drop from a peak of 10,000 to below 100).</p></li><li><p>r-nacos service, thread count stabilizes at 7, CPU usage rate maximum around 200% (equivalent to using 2 cores), memory below 50MB.</p></li><li><p>Java Nacos service, maximum thread count around 300, CPU usage rate maximum around 500%, memory 600MB to 900MB.</p></li></ol></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--[--><!--[--><!--[--><div style="" class="vitepress-backTop-main" title="返回顶部" data-v-2a6be4fb><svg t="1720595052079" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4279" width="200" height="200" data-v-2a6be4fb><path d="M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z" fill="#FFF" p-id="4280" data-v-2a6be4fb></path></svg></div><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/r-nacos/docs/edit/master/docs/en/performance/index.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2025-01-28T05:50:41.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/docs/en/env_config/" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Deployment Parameter Guide</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/docs/en/health/" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Service Health Check and Liveness Detection</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2025 R-Nacos</p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>